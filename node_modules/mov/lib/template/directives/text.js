const Directive = require('../directive');
const Expression = require('../expression');

module.exports = new Directive({
  name: '#text',
  type: Directive.TYPE_ELEMENT,

  init: function () {
    this.nodeValue = this.node.nodeValue;
    this.expr = new Expression(this.node.nodeValue, true);
  },

  execute: function (scope) {
    var newNodeValue = this.expr.execute(scope);
    if (this.nodeValue !== newNodeValue) {
      this.nodeValue = newNodeValue;
      this.node.nodeValue = this.nodeValue;
    };
  }

});